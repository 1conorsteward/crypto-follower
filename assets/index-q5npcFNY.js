import{C as E,a as S,L,P as w,b as D,p as $,c as A,d as O,e as b,r as a,j as e,f as F,g,h as H}from"./vendor-CR5vm7Vg.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();E.register(S,L,w,D,$,A,O);const j=({coinId:r})=>{const[n,c]=a.useState(null),[o,t]=a.useState(null),[s,l]=a.useState(null),[i,d]=a.useState(null),[h,v]=a.useState(null);return a.useEffect(()=>{(async()=>{try{const u=(await g.get(`http://localhost:8080/api/historical/${r}`)).data.prices,x=u.map(f=>new Date(f[0]).toLocaleDateString()),m=u.map(f=>f[1]),C=(m.reduce((f,P)=>f+P,0)/m.length).toFixed(2);l(C),c({labels:x,datasets:[{label:`${r.toUpperCase()} Historical Prices (USD)`,data:m,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0}]}),t(null)}catch(p){console.error("Error fetching historical data:",p.message),t("Failed to fetch historical chart data")}})()},[r]),a.useEffect(()=>{(async()=>{var p;try{const x=((p=(await g.get(`http://localhost:8080/api/live/${r}`)).data[r])==null?void 0:p.usd)||null;if(d(x),s&&x){const m=((x-s)/s*100).toFixed(2);v(m)}}catch(u){console.error("Error fetching live price:",u.message)}})()},[r,s]),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg text-white",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[r.toUpperCase()," Historical Chart"]}),o?e.jsx("p",{className:"text-red-400",children:o}):n?e.jsxs("div",{children:[e.jsx("div",{className:"w-full max-w-screen-lg mx-auto h-96 overflow-hidden mb-4",children:e.jsx(F,{data:n,options:{responsive:!0,maintainAspectRatio:!1}})}),e.jsx("div",{className:"text-center mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold",children:["Average Monthly Cost:"," ",e.jsxs("span",{className:"text-blue-400",children:["$",s]})]})}),i&&h&&e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Current Price:"," ",e.jsxs("span",{className:"text-green-400",children:["$",i]})]}),e.jsx("p",{className:`text-xl font-bold ${h>=0?"text-green-400":"text-red-400"}`,children:h>=0?`${h}% ↑`:`${Math.abs(h)}% ↓`})]})]}):e.jsx("p",{children:"Loading..."})]})};j.propTypes={coinId:b.string.isRequired};const y=({coinId:r})=>{const[n,c]=a.useState(null),[o,t]=a.useState(null);return a.useEffect(()=>{const s=async()=>{var i;try{const d=await g.get(`http://localhost:8080/api/live/${r}`);c(((i=d.data[r])==null?void 0:i.usd)||"N/A"),t(null)}catch(d){console.error("Error fetching live price:",d.message),t("Failed to fetch live price")}};s();const l=setInterval(s,3e4);return()=>clearInterval(l)},[r]),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg text-center",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-2",children:[r.toUpperCase()," Live Price"]}),o?e.jsx("p",{className:"text-red-400",children:o}):e.jsxs("p",{className:"text-3xl font-bold",children:["$",n]})]})};y.propTypes={coinId:b.string.isRequired};const R=()=>{const[r,n]=a.useState("bitcoin");return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[e.jsx("header",{className:"text-center mb-6",children:e.jsx("h1",{className:"text-4xl font-bold text-blue-400",children:"Crypto Dashboard"})}),e.jsx("nav",{className:"flex justify-center space-x-4 mb-6",children:["bitcoin","ethereum","tellor"].map(c=>e.jsx("button",{onClick:()=>n(c),className:`px-4 py-2 rounded-lg font-semibold transition ${r===c?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),e.jsxs("main",{className:"container mx-auto space-y-8",children:[e.jsx("section",{children:e.jsx(j,{coinId:r})}),e.jsx("section",{children:e.jsx(y,{coinId:r})})]})]})};function U(){return e.jsx("div",{children:e.jsx(R,{})})}H.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(U,{})}));
